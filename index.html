<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Door Lamination Billing</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:20px; }
    .container { max-width:900px; margin:auto; background:white; padding:20px; border-radius:10px; }
    h2 { text-align:center; }
    label { font-weight:bold; }
    input, button { padding:8px; margin:5px 0; width:100%; }
    table { width:100%; border-collapse:collapse; margin-top:20px; }
    th, td { border:1px solid #ccc; padding:10px; text-align:center; }
    th { background:#ddd; }
    .btn { background:#007bff; color:white; border:none; cursor:pointer; border-radius:5px; }
    .btn:hover { opacity:0.8; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Door Lamination Billing</h2><label>Order Length (inch)</label>
<input type="number" id="len" />

<label>Order Breadth (inch)</label>
<input type="number" id="bre" />

<label>Raw Material Length</label>
<input type="number" id="rlen" />

<label>Raw Material Breadth</label>
<input type="number" id="rbre" />

<label>Rate (per Sqft)</label>
<input type="number" id="rate" />

<button class="btn" onclick="addItem()">Add Item</button>

<table id="billTable">
  <tr>
    <th>O. Size</th>
    <th>R. Size</th>
    <th>Area (sqft)</th>
    <th>Rate</th>
    <th>Total</th>
  </tr>
</table>

<h3 id="grandTotal">Grand Total: ₹0</h3>

<button class="btn" onclick="saveBill()">Save Bill</button>
<button class="btn" onclick="downloadPDF()">Download PDF</button>
<button class="btn" onclick="window.print()">Print Bill</button>

  </div><script>
let totalAmt = 0;
let billData = [];

function addItem() {
  let L = parseFloat(document.getElementById('len').value);
  let B = parseFloat(document.getElementById('bre').value);
  let RL = parseFloat(document.getElementById('rlen').value);
  let RB = parseFloat(document.getElementById('rbre').value);
  let rate = parseFloat(document.getElementById('rate').value);

  if(!L || !B || !RL || !RB || !rate){ alert("Please fill all fields"); return; }

  let sqft = (RL * RB) / 144;
  let total = sqft * rate;

  billData.push({L,B,RL,RB,sqft,total});

  document.getElementById('billTable').innerHTML += `
    <tr>
      <td>${L} x ${B}</td>
      <td>${RL} x ${RB}</td>
      <td>${sqft.toFixed(2)}</td>
      <td>${rate}</td>
      <td>₹${total.toFixed(2)}</td>
    </tr>
  `;

  totalAmt += total;
  document.getElementById('grandTotal').innerHTML = "Grand Total: ₹" + totalAmt.toFixed(2);
}

function saveBill(){
  let today = new Date().toLocaleDateString();
  let saved = JSON.parse(localStorage.getItem('dailyBills') || "{}");
  saved[today] = (saved[today] || []);
  saved[today].push(billData);
  localStorage.setItem('dailyBills', JSON.stringify(saved));
  alert("Bill Saved");
}

function downloadPDF(){
  let content = document.body.innerHTML;
  let win = window.open('', '', 'height=700,width=900');
  win.document.write('<html><head><title>Bill PDF</title></head><body>');
  win.document.write(content);
  win.document.write('</body></html>');
  win.document.close();
  win.print();
}
</script></body>
</html>
